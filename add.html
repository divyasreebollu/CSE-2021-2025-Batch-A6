<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Tracking Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    rel="stylesheet"
    />
    <style>
        body {
    background: url('images/bus.jpg') no-repeat center center fixed;
    background-size: cover;
    opacity: 0.8; /* Adjust transparency */
}
        /* Global Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li {
            margin: 10px 0;
        }

        .sidebar ul li a {
            color: white;
            padding: 10px 20px;
            display: block;
            text-decoration: none;
            border-radius: 4px;
            transition: 0.3s;
        }

        .sidebar ul li a:hover {
            background-color: #e55c00;
        }

        .sidebar ul li a.active {
            background-color: white;
            color: #ff6600; /* Orange Text */
            font-weight: bold;
        }

        /* Top Bar Styling */
        .topbar {
            width: 100%;
            background-color: #ff6600; /* Orange */
            color: white;
            display: flex;
            justify-content: space-between;
            padding: 1px 5px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 999;
        }

        .topbar .logo {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .topbar nav {
            display: none; /* Removed top nav links */
        }

        .topbar .icons {
            display: flex;
            gap: 20px;
        }

        .topbar .icon {
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Sidebar Styling */
        .sidebar {
            width: 200px;
            background-color: #ff6600; /* Orange */
            color: white;
            position: fixed;
            top: 60px; /* To avoid overlap with topbar */
            left: 0;
            bottom: 0;
            padding-top: 20px;
            transition: width 0.3s ease;
            overflow-y: auto; /* Added scrollability */
            height: calc(100% - 60px); /* Adjust to avoid overlap with topbar */
        }

        .sidebar a {
            color: white;
            text-decoration: none;
            display: block;
            padding: 10px 20px;
            margin: 10px 0;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .sidebar a:hover, .sidebar a.active {
            background-color: #e55c00; /* Darker orange */
            color: white;
        }

        /* Content Area */
        .content {
            margin-left: 250px;
            padding: 20px;
            margin-top: 60px; /* Space for topbar */
            flex: 1;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* For responsiveness */
        @media screen and (max-width: 768px) {
            .topbar {
                flex-direction: column;
                align-items: center;
            }

            .sidebar {
                width: 100%;
                top: 60px;
                left: 0;
                position: fixed;
                padding-top: 10px;
                height: calc(100% - 60px);
                justify-content: space-between; /* Buttons kindhana move cheyyadaniki */
            }

            .content {
                margin-left: 0;
            }
        }
        /* Main Content Styling */
        .content {
            margin-left: 250px; /* Push content right to avoid overlay */
            padding: 20px;
            background-color: #f4f4f4;
            height: 100vh;
        }

        /* Header Styling */
        .content h1 {
            color: #333;
            margin-top: 20px;
        }
        body {
            font-family: Arial, sans-serif;
        }
        .content {
            margin-left: 210px;
            padding: 20px;
        }
        .header {
            background-color: #f96332;
            color: white;
            padding: 10px;
            font-size: 15px;
            margin-bottom: 14px;
        }
        .btn-add {
            background-color: #f96332;
            color: white;
            margin-bottom: 14px;
        }
        .btn-save {
            background-color: green;
            color: white;
        }
        .btn-cancel {
            background-color: red;
            color: white;
        }
        .btn-edit, .btn-view, .btn-delete {
            margin: 0 5px;
        }
        .btn-sm {
            padding: 4px 8px;
            font-size: 8px;
        }
        .table th, .table td {
            vertical-align: middle;
        }
        .welcome-message {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    animation: fadeIn 1.5s ease-in-out;
}

.admin-image {
    width: 200px; /* Adjust as needed */
    height: 180px;
    border-radius: 50%;
    margin-right: 20px;
    animation: scaleIn 1.5s ease-in-out;
}

.welcome-text {
    color: #ff6600;
    font-size: 22px;
    font-weight: bold;
    opacity: 0;
    animation: slideIn 1.5s ease-in-out forwards;
}

.welcome-text h1 {
    font-size: 34px;
    margin-bottom: 10px;
}

.welcome-text p {
    font-size: 18px;
    margin: 5px 0;
}

/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes scaleIn {
    from {
        transform: scale(0.8);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes slideIn {
    from {
        transform: translateX(-20px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}


        
    </style>
</head>
<body>

    <!-- Top Bar -->
    <div class="topbar">
        <div class="logo" >Smart Transit</div>
        <div class="icons">
            <span class="icon"><i class="bi bi-bell"></i><!-- Notification Icon --></span>
         <!--   <span class="icon" onclick="toggleBrightness()"><i class="bi bi-brightness-high"></i> Brightness icon </span> -->
         <span class="icon">
            <img src="images/admin.png" alt="Admin" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid white; object-fit: cover;">
        </span>
        
            
        </div>
    </div>
    

    <!-- Sidebar -->
    <div class="sidebar">
        <ul>

        <li><br><a href="#" onclick="showSection('busDetails', this)"><i class="bi bi-bus-front"></i>  Bus Details</a></li>
        <li><a href="#" onclick="showSection('driverDetails', this)"><i class="bi bi-person"></i>  Driver Details</a></li>
        <li><a href="#" onclick="showSection('busRoutes', this)"><i class="bi bi-map"></i>  Bus Routes</a></li>
        <li><a href="#" onclick="showSection('studentDetails', this)"><i class="bi bi-person-badge"></i> Student Details</a></li>
        <li><a href="#" onclick="showSection('facultyDetails', this)"><i class="bi bi-people"></i> Faculty Details</a></li>
        <li><a href="home.html" onclick="showSection('trackBus', this)"><i class="bi bi-geo-alt"></i> Track/Assign Bus</a></li>
        <li><a href="#" onclick="showSection('seatPlan', this)"><i class="bi bi-grid-3x3-gap"></i> Seat Plan</a></li>
        <li><a href="#" onclick="showSection('logout', this)"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
    </ul>
    </div>

<!-- Main Content -->
<div class="content">
    <div id="welcome-section" class="welcome-message">
        <img src="images/admin.png" alt="Admin Icon" class="admin-image"> 
        <div class="welcome-text">
            <h1>üöç Welcome, Admin! üìç</h1>
            <p>Ensuring Safe and Smart Transit Management at Your Fingertips.</p>
        </div>
    </div>
    
        <!--Bus Details-->
        <div id="busDetails" class="section">
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Bus Details</title>
                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
                <link
                href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
                rel="stylesheet"
                />
                <style>
                    * {
                        margin: 0;
                        padding: 0;
                        box-sizing: border-box;
                        font-family: Arial, sans-serif;
                    }
            
                    /* Sidebar Styling */
                    .sidebar {
                        background-color: #ff6600; /* Orange color */
                        width: 200px;
                        height: 100vh; /* Full viewport height */
                        position: fixed; /* Sticks to the side */
                        top: 0;
                        left: 0;
                        color: #fff;
                        padding: 20px 0;
                        overflow-y: auto; /* Scrollable if needed */
                    }
            
                    /* Sidebar Heading */
                    .sidebar h2 {
                        text-align: center;
                        font-size: 22px;
                        margin-bottom: 20px;
                        text-transform: uppercase;
                        color: #fff;
                        font-weight: bold;
                    }
            
                    /* Sidebar Menu */
                    .sidebar ul {
                        list-style: none;
                        padding: 0;
                    }
            
                    .sidebar ul li {
                        margin: 15px 0;
                    }
            
                    .sidebar ul li a {
                        display: block;
                        text-decoration: none;
                        color: #fff;
                        padding: 10px 20px;
                        font-size: 16px;
                        border-radius: 5px;
                        transition: background 0.3s;
                    }
            
                    .sidebar ul li a:hover,
                    .sidebar ul li.active a {
                        background-color: #e55c00; /* Darker orange on hover/active */
                        color: #fff;
                    }
            
                    /* Main Content Styling */
                    .content {
                        margin-left: 250px; /* Push content right to avoid overlay */
                        padding: 20px;
                        background-color: #f4f4f4;
                        height: 100vh;
                    }
            
                    /* Header Styling */
                    .content h1 {
                        color: #333;
                        margin-top: 20px;
                    }
                    body {
                        font-family: Arial, sans-serif;
                    }
                    .content {
                        margin-left: 210px;
                        padding: 20px;
                    }
                    .header {
                        background-color: #f96332;
                        color: white;
                        padding: 10px;
                        font-size: 15px;
                        margin-bottom: 14px;
                    }
                    .btn-add {
                        background-color: #f96332;
                        color: white;
                        margin-bottom: 14px;
                    }
                    .btn-save {
                        background-color: green;
                        color: white;
                    }
                    .btn-cancel {
                        background-color: red;
                        color: white;
                    }
                    .btn-edit, .btn-view, .btn-delete {
                        margin: 0 5px;
                    }
                    .btn-sm {
                        padding: 4px 8px;
                        font-size: 8px;
                    }
                    .table th, .table td {
                        vertical-align: middle;
                    }
                </style>
            </head>
            <body>
                    <div class="header">Bus Details</div>
                            <div class="table-container">
                                <button class="btn btn-add" id="addBusBtn">+ Add Bus</button>
                                <input type="text" id="searchBar" class="form-control" placeholder="Search by Bus Number or Route">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Serial No.</th>
                                            <th>Bus Number</th>
                                            <th>Template Number</th>
                                            <th>Bus Route</th>
                                            <th>Driver Photo</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="busTableBody"></tbody>
                                </table>
                            </div>
                    
                        <!-- Add/Edit Modal -->
                        <div class="modal" tabindex="-1" role="dialog" id="busModal">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="modalTitle">Edit Bus</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form id="busForm" novalidate>
                                            <div class="form-group">
                                                <label for="busNumber">Bus Number</label>
                                                <input type="number" class="form-control" id="busNumber" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="templateNumber">Template Number</label>
                                                <input type="text" class="form-control" id="templateNumber" required>
                                            </div>
                                            <!--<div class="form-group">
                                                <label for="busRoute">Bus Route</label>
                                                <input type="text" class="form-control" id="busRoute" required pattern="[A-Za-z\s]+" title="Enter alphabets only">
                                            </div> -->
                                            <div class="form-group">
                                                <label for="busRoute">Bus Route</label>
                                                <select class="form-control" id="busRoute" required>
                                                    <option value="" disabled selected>Select a Bus Route</option>
                                                    <option value="ATP SRINAGAR COLONY">ATP SRINAGAR COLONY</option>
                                                    <option value="ATP HLC COLONY">ATP HLC COLONY</option>
                                                    <option value="ATP BHAIRAVA NAGAR">ATP BHAIRAVA NAGAR </option>
                                                    <option value="ATP RACHANAPALLI">ATP RACHANAPALLI </option>
                                                    
                                                    <option value="ATP OLD TOWN">ATP OLD TOWN</option>
                                                    <option value="ATP RAZAK FN HALL">ATP RAZAK FN HALL</option>
                                                    <option value="ATP TAPOVANAM">ATP TAPOVANAM</option>
                                                    <option value="ATP CHINMAY NAGAR">ATP CHINMAY NAGAR</option>
                                                    <option value="ATP SHANTI NAGAR BOARD">ATP SHANTI NAGAR BOARD</option>
                                                    <option value="ATP RAMNAGAR">ATP RAMNAGAR </option>
                                                    <option value="ATP CHANDRABABU KOTTALU">ATP CHANDRABABU KOTTALU </option>
                                                    <option value="ATP NAIK NAGAR">ATP NAIK NAGAR </option>
                                                    <option value="ATP VADIYAMPETA">ATP VADIYAMPETA </option>
                                                    <option value="ATP DHARMAVARAM - SAIBABA GUDI">DHARMAVARAM - SAIBABA GUDI </option>
                                                    <option value="ATP DMM KALAJYOTHI">ATP DMM KALAJYOTHI</option>
                                                    <option value="ATP LECTURES COLONY">ATP LECTURES COLONY</option>
                                                    <option value="ATP DMM SAIBABA GUDI CIRCLE">ATP DMM SAIBABA GUDI CIRCLE</option>
                                                    <option value="ATP SRIKANTAM CIRCLE">ATP SRIKANTAM CIRCLE</option>
                                                    <option value="ATP NADIMIVANKA">ATP NADIMIVANKA</option>
                                                    <option value="ATP TOWERCLOCK">ATP TOWERCLOCK</option>
                                                    <option value="TADIPATRI - PUTLUR ROAD">TADIPATRI - PUTLUR ROAD </option>
                                                    <option value="TADIPATRI - YELLANUR ROAD">TADIPATRI - YELLANUR ROAD </option>
                                                    <option value="TADIPATRI - BUS STAND">TADIPATRI - BUS STAND </option>
                                                    <option value="DHARMAVARAM">DHARMAVARAM</option>
                                                    <option value="PAMIDI">PAMIDI</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="driverPhoto">Driver Photo</label>
                                                <input type="file" class="form-control" id="driverPhoto" accept="image/*" required>
                                            </div>
                                            <div class="form-group">
                                                <label for="status">Status</label>
                                                <select class="form-control" id="status" required>
                                                    <option value="" disabled selected>Select Status</option>
                                                    <option value="Departed">Departed</option>
                                                    <option value="Arrived">Arrived</option>
                                                    <option value="Stopped">Stopped</option>
                                                </select>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-save" id="saveBusBtn">Save</button>
                                        <button type="button" class="btn btn-cancel" data-dismiss="modal">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                        <!-- View Modal -->
                        <div class="modal" tabindex="-1" role="dialog" id="viewModal">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Bus Details</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body" id="viewContent"></div>
                                </div>
                            </div>
                        </div>
                    
                        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
                        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
                        <script>
                            let busData = JSON.parse(localStorage.getItem('busData')) || [];
                            let editMode = false, editIndex = -1;
                    
                            function renderBusTable(data) {
                                data.sort((a, b) => a.busNumber - b.busNumber);
                                const tableBody = document.getElementById('busTableBody');
                                tableBody.innerHTML = '';
                                data.forEach((bus, index) => {
                                    const row = 
                                        `<tr>
                                            <td>${index + 1}</td>
                                            <td>${bus.busNumber}</td>
                                            <td>${bus.templateNumber}</td>
                                            <td>${bus.busRoute}</td>
                                            <td><a href="${bus.photo}" target="_blank">${bus.photoName}</a></td>
                                            <td>${bus.status}</td>
                                            <td>
                                                <button class="btn btn-primary btn-sm btn-edit" onclick="editBus(${index})">Edit</button>
                                                <button class="btn btn-info btn-sm btn-view" onclick="viewBus(${index})">View</button>
                                                <button class="btn btn-danger btn-sm btn-delete" onclick="deleteBus(${index})">Delete</button>
                                            </td>
                                        </tr>`;
                                    tableBody.insertAdjacentHTML('beforeend', row);
                                });
                            }
                    
                            function saveToLocalStorage() {
                                localStorage.setItem('busData', JSON.stringify(busData));
                            }
                    
                            document.getElementById('addBusBtn').addEventListener('click', () => {
                                editMode = false; editIndex = -1;
                                document.getElementById('busForm').reset();
                                $('#busModal').modal('show');
                            });
                    
                            document.getElementById('saveBusBtn').addEventListener('click', () => {
                                const form = document.getElementById('busForm');
                                if (!form.checkValidity()) {
                                    form.reportValidity();
                                    return;
                                }
                    
                                const newBusNumber = +document.getElementById('busNumber').value.trim();
                                const newTemplateNumber = document.getElementById('templateNumber').value.trim();
                                const duplicateBus = busData.some((bus, index) => 
                                    (bus.busNumber === newBusNumber || bus.templateNumber === newTemplateNumber) && index !== editIndex
                                );
                    
                                if (duplicateBus) {
                                    alert('Bus number or template number already exists. Please use unique values !!!');
                                    return;
                                }
                    
                                const newBus = {
                                    busNumber: +document.getElementById('busNumber').value.trim(),
                                    templateNumber: document.getElementById('templateNumber').value.trim(),
                                    busRoute: document.getElementById('busRoute').value.trim(),
                                    photo: URL.createObjectURL(document.getElementById('driverPhoto').files[0]),
                                    photoName: document.getElementById('driverPhoto').files[0].name,
                                    status: document.getElementById('status').value // Capture selected status value correctly
                                };
                    
                                if (editMode) busData[editIndex] = newBus;
                                else busData.push(newBus);
                    
                                saveToLocalStorage();
                                renderBusTable(busData);
                                $('#busModal').modal('hide');
                            });
                    
                            function editBus(index) {
                                const bus = busData[index];
                                document.getElementById('busNumber').value = bus.busNumber;
                                document.getElementById('templateNumber').value = bus.templateNumber;
                                document.getElementById('busRoute').value = bus.busRoute;
                                document.getElementById('status').value = bus.status; // Set the status value correctly in edit mode
                                editMode = true; 
                                editIndex = index;
                                $('#busModal').modal('show');
                            }
                    
                            function viewBus(index) {
                                const bus = busData[index];
                                const content = 
                                    `<p><strong>Bus Number:</strong> ${bus.busNumber}</p>
                                    <p><strong>Template Number:</strong> ${bus.templateNumber}</p>
                                    <p><strong>Bus Route:</strong> ${bus.busRoute}</p>
                                    <p><strong>Status:</strong> ${bus.status}</p>
                                    <img src="${bus.photo}" alt="Driver Photo" style="width:50%">`;
                                document.getElementById('viewContent').innerHTML = content;
                                $('#viewModal').modal('show');
                            }
                    
                            function deleteBus(index) {
                                if (confirm('Are you sure you want to delete ?')) {
                                    busData.splice(index, 1);
                                    saveToLocalStorage();
                                    renderBusTable(busData);
                                }
                            }
                    
                            document.getElementById('searchBar').addEventListener('input', () => {
                                const query = document.getElementById('searchBar').value.toLowerCase();
                                const filteredData = busData.filter(bus => 
                                    bus.busNumber.toString().includes(query) || bus.busRoute.toLowerCase().includes(query)
                                );
                                renderBusTable(filteredData);
                            });
                    
                            document.addEventListener('DOMContentLoaded', () => {
                                renderBusTable(busData);
                            });
                        </script>
                    </body>
                    </html>
                    

        </div>
            


        <!--driver details-->
        <div id="driverDetails" class="section">
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Driver Details</title>
                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
                <style>
                    .header { background-color: #f96332; color: white; padding: 10px; }
                    .btn-add, .btn-save { background-color: #f96332; color: white; }
                    .btn-cancel { background-color: red; color: white; }
                </style>
            </head>
            <body>
                <div class="header">Driver Details</div>
                <button class="btn btn-add" id="addDriverBtn">+ Add Driver</button>
                <input type="text" id="searchDriverBar" class="form-control mb-2" placeholder="Search by Bus Number or Route">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Serial No.</th>
                            <th>Driver Name</th>
                            <th>Driver Photo</th>
                            <th>Phone Number</th>
                            <th>Bus Number</th>
                            <th>Bus Route</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="driverTableBody"></tbody>
                </table>
            
                <div class="modal" id="driverModal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Driver Details</h5>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body">
                                <form id="driverForm">
                                    <input type="hidden" id="driverIndex">
                                    <div class="form-group">
                                        <label>Driver Name</label>
                                        <input type="text" id="driverName" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Driver Photo</label>
                                        <input type="file" id="driverPhoto" class="form-control" accept="image/*">
                                        <img id="previewPhoto" src="" alt="Preview" style="max-width: 100%; margin-top: 10px; display: none;">
                                    </div>
                                    <div class="form-group">
                                        <label>Phone Number</label>
                                        <input type="text" id="driverPhoneNumber" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Bus Number</label>
                                        <input type="text" id="driverBusNumber" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Bus Route</label>
                                        <input type="text" id="driverBusRoute" class="form-control" required>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-save" id="saveDriverBtn">Save</button>
                                <button class="btn btn-cancel" data-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            
                <script>
                    let driverData = JSON.parse(localStorage.getItem('driverData')) || [];
            
                    function saveToLocalStorage() {
                        localStorage.setItem('driverData', JSON.stringify(driverData));
                    }
            
                    function renderTable(filteredData = driverData) {
                        const tableBody = document.getElementById('driverTableBody');
                        tableBody.innerHTML = '';
                        filteredData.forEach((driver, index) => {
                            const row = `<tr>
                                <td>${index + 1}</td>
                                <td>${driver.name}</td>
                                <td><img src="${driver.photo}" style="width:50px;height:50px;"></td>
                                <td>${driver.phoneNumber}</td>
                                <td>${driver.busNumber}</td>
                                <td>${driver.busRoute}</td>
                                <td>
                                    <button class="btn btn-sm btn-primary" onclick="editDriver(${index})">Edit</button>
                                    <button class="btn btn-sm btn-danger" onclick="deleteDriver(${index})">Delete</button>
                                </td>
                            </tr>`;
                            tableBody.insertAdjacentHTML('beforeend', row);
                        });
                    }
            
                    document.getElementById('addDriverBtn').addEventListener('click', () => {
                        document.getElementById('driverForm').reset();
                        document.getElementById('previewPhoto').style.display = 'none';
                        document.getElementById('driverIndex').value = '';
                        $('#driverModal').modal('show');
                    });
            
                    document.getElementById('saveDriverBtn').addEventListener('click', () => {
                        const index = document.getElementById('driverIndex').value;
                        const name = document.getElementById('driverName').value;
                        const phoneNumber = document.getElementById('driverPhoneNumber').value;
                        const busNumber = document.getElementById('driverBusNumber').value;
                        const busRoute = document.getElementById('driverBusRoute').value;
                        let photo = document.getElementById('previewPhoto').src;
                        const photoFile = document.getElementById('driverPhoto').files[0];
            
                        if (photoFile) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                photo = e.target.result;
                                saveDriver(name, phoneNumber, busNumber, busRoute, photo, index);
                            };
                            reader.readAsDataURL(photoFile);
                        } else {
                            saveDriver(name, phoneNumber, busNumber, busRoute, photo, index);
                        }
                    });
            
                    function saveDriver(name, phoneNumber, busNumber, busRoute, photo, index) {
                        const driver = { name, phoneNumber, busNumber, busRoute, photo };
                        if (index !== "") {
                            driverData[index] = driver;
                        } else {
                            driverData.push(driver);
                        }
                        saveToLocalStorage();
                        renderTable();
                        $('#driverModal').modal('hide');
                    }
            
                    function editDriver(index) {
                        const driver = driverData[index];
                        document.getElementById('driverIndex').value = index;
                        document.getElementById('driverName').value = driver.name;
                        document.getElementById('driverPhoneNumber').value = driver.phoneNumber;
                        document.getElementById('driverBusNumber').value = driver.busNumber;
                        document.getElementById('driverBusRoute').value = driver.busRoute;
                        document.getElementById('previewPhoto').src = driver.photo;
                        document.getElementById('previewPhoto').style.display = 'block';
                        $('#driverModal').modal('show');
                    }
            
                    function deleteDriver(index) {
                        driverData.splice(index, 1);
                        saveToLocalStorage();
                        renderTable();
                    }
            
                    document.getElementById('searchDriverBar').addEventListener('input', (e) => {
                        const searchValue = e.target.value.toLowerCase();
                        const filteredData = driverData.filter(driver =>
                            driver.busNumber.toLowerCase().includes(searchValue) ||
                            driver.busRoute.toLowerCase().includes(searchValue)
                        );
                        renderTable(filteredData);
                    });
            
                    renderTable();
                </script>
            </body>
            </html>
            
            
        </div>
            
       

    
        <div id="busRoutes" class="section">
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Bus Routes</title>
                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
                <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />
                <style>
                    * {
                        margin: 0;
                        padding: 0;
                        box-sizing: border-box;
                        font-family: Arial, sans-serif;
                    }
            
                    /* Main Content Styling */
                    .content {
                        margin-left: 50px; /* Adjusted to give proper left space */
                        padding: 20px;
                        background-color: #f4f4f4;
                        height: 100vh;
                    }
            
                    /* Header Styling */
                    .content h1 {
                        color: #333;
                        margin-top: 20px;
                    }
            
                    .header {
                        background-color: #f96332;
                        color: white;
                        padding: 10px;
                        font-size: 15px;
                        margin-bottom: 14px;
                    }
            
                    .btn-add {
                        background-color: #f96332;
                        color: white;
                        margin-bottom: 14px;
                    }
            
                    .btn-save {
                        background-color: green;
                        color: white;
                    }
            
                    .btn-cancel {
                        background-color: red;
                        color: white;
                    }
            
                    .btn-edit, .btn-delete {
                        margin: 0 5px;
                    }
            
                    .btn-sm {
                        padding: 4px 8px;
                        font-size: 8px;
                    }
            
                    .table th, .table td {
                        vertical-align: middle;
                    }
                </style>
            </head>
            <body>
                    <div class="header">Bus Routes</div>
                    <div class="table-container">
                        <button class="btn btn-add" id="addRouteBtn">+ Add Route</button>
                        <input type="text" id="searchRouteBar" class="form-control mb-4" placeholder="Search by Route Bus Number">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Route Bus Number</th>
                                    <th>Starting Point</th>
                                    <th>Bus Route</th>
                                    <th>Driver Name</th>
                                    <th>Mobile Number</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="busRouteTableBody"></tbody>
                        </table>
                    </div>
            
                <!-- Add/Edit Modal -->
                <div class="modal" tabindex="-1" role="dialog" id="routeModal">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalTitle">Edit Bus Route</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id="routeForm" novalidate>
                                    <div class="form-group">
                                        <label for="routeBusNumber">Route Bus Number</label>
                                        <input type="text" class="form-control" id="routeBusNumber" required>
                                    </div>
            
                                    <div class="form-group">
                                        <label for="routeStartingPoint">Route Starting Point</label>
                                        <input type="text" class="form-control" id="routeStartingPoint" required>
                                    </div>
            
                                    <div class="form-group">
                                        <label for="routeDriverName">Driver Name</label>
                                        <input type="text" class="form-control" id="routeDriverName" required>
                                    </div>
            
                                    <div class="form-group">
                                        <label for="driverMobileNumber">Mobile Number</label>
                                        <input type="number" class="form-control" id="driverMobileNumber" required>
                                    </div>
            
                                    <div class="form-group">
                                        <label for="routeBusRoute">Bus Route</label>
                                        <input type="text" class="form-control" id="routeBusRoute" required>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-save" id="saveRouteBtn">Save</button>
                                <button type="button" class="btn btn-cancel" data-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            
                <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
                <script>
                    let busRouteData = JSON.parse(localStorage.getItem('busRouteData')) || [];
                    let editRouteMode = false, editRouteIndex = -1;
            
                    function renderBusRouteTable(data) {
                        data.sort((a, b) => a.routeBusNumber - b.routeBusNumber);
                        const tableBody = document.getElementById('busRouteTableBody');
                        tableBody.innerHTML = '';
                        data.forEach((route, index) => {
                            const row = 
                                `<tr>
                                    <td>${route.routeBusNumber}</td>
                                    <td>${route.routeStartingPoint}</td>
                                    <td>${route.routeBusRoute}</td>
                                    <td>${route.routeDriverName}</td>
                                    <td>${route.driverMobileNumber}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm btn-edit" onclick="editBusRoute(${index})">Edit</button>
                                        <button class="btn btn-danger btn-sm btn-delete" onclick="deleteBusRoute(${index})">Delete</button>
                                    </td>
                                </tr>`;
                            tableBody.insertAdjacentHTML('beforeend', row);
                        });
                    }
            
                    function saveToRouteLocalStorage() {
                        localStorage.setItem('busRouteData', JSON.stringify(busRouteData));
                    }
            
                    document.getElementById('addRouteBtn').addEventListener('click', () => {
                        editRouteMode = false; editRouteIndex = -1;
                        document.getElementById('routeForm').reset();
                        $('#routeModal').modal('show');
                    });
            
                    document.getElementById('saveRouteBtn').addEventListener('click', () => {
                        const form = document.getElementById('routeForm');
                        if (!form.checkValidity()) {
                            form.reportValidity();
                            return;
                        }
            
                        const newRouteBusNumber = document.getElementById('routeBusNumber').value.trim();
                        const duplicateRouteBus = busRouteData.some((route, index) => 
                            route.routeBusNumber === newRouteBusNumber && index !== editRouteIndex
                        );
            
                        if (duplicateRouteBus) {
                            alert('Route Bus Number already exists. Please use unique values!');
                            return;
                        }
            
                        const newRoute = {
                            routeBusNumber: newRouteBusNumber,
                            routeStartingPoint: document.getElementById('routeStartingPoint').value.trim(),
                            routeDriverName: document.getElementById('routeDriverName').value.trim(),
                            driverMobileNumber: +document.getElementById('driverMobileNumber').value.trim(),
                            routeBusRoute: document.getElementById('routeBusRoute').value.trim(),
                        };
            
                        if (editRouteMode) {
                            busRouteData[editRouteIndex] = newRoute;
                        } else {
                            busRouteData.push(newRoute);
                        }
            
                        saveToRouteLocalStorage();
                        renderBusRouteTable(busRouteData);
                        $('#routeModal').modal('hide');
                    });
            
                    function editBusRoute(index) {
                        const route = busRouteData[index];
                        document.getElementById('routeBusNumber').value = route.routeBusNumber;
                        document.getElementById('routeStartingPoint').value = route.routeStartingPoint;
                        document.getElementById('routeDriverName').value = route.routeDriverName;
                        document.getElementById('driverMobileNumber').value = route.driverMobileNumber;
                        document.getElementById('routeBusRoute').value = route.routeBusRoute;
                        editRouteMode = true;
                        editRouteIndex = index;
                        $('#routeModal').modal('show');
                    }
            
                    function deleteBusRoute(index) {
                        if (confirm('Are you sure you want to delete this bus route?')) {
                            busRouteData.splice(index, 1);
                            saveToRouteLocalStorage();
                            renderBusRouteTable(busRouteData);
                        }
                    }
            
                    document.getElementById('searchRouteBar').addEventListener('input', function() {
                        const searchValue = this.value.toLowerCase().trim();
                        const filteredData = busRouteData.filter(route => 
                            route.routeBusNumber.toLowerCase().includes(searchValue)
                        );
                        renderBusRouteTable(filteredData);
                    });
            
                    renderBusRouteTable(busRouteData);
                </script>
            </body>
            </html>
            
        </div>


        <div id="studentDetails" class="section">
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Student Details</title>
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
            <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
            <style>
                * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
                .sidebar { background-color: #007bff; width: 200px; height: 100vh; position: fixed; top: 0; left: 0; color: #fff; padding: 20px 0; overflow-y: auto; }
                .sidebar h2 { text-align: center; font-size: 22px; margin-bottom: 20px; text-transform: uppercase; font-weight: bold; }
                .sidebar ul { list-style: none; padding: 0; }
                .sidebar ul li { margin: 15px 0; }
                .sidebar ul li a { display: block; text-decoration: none; color: #fff; padding: 10px 20px; font-size: 16px; border-radius: 5px; transition: background 0.3s; }
                .sidebar ul li a:hover, .sidebar ul li.active a { background-color: #0056b3; }
                .content { margin-left: 210px; padding: 20px; }
                .header { background-color: #0056b3; color: white; padding: 10px; font-size: 15px; margin-bottom: 14px; }
                .btn-add { background-color: #0056b3; color: white; margin-bottom: 14px; }
                .btn-save { background-color: green; color: white; }
                .btn-cancel { background-color: red; color: white; }
                .btn-edit, .btn-view, .btn-delete { margin: 0 2px; }
                .table th, .table td { vertical-align: middle; }
            </style>
        </head>
        <body>
            <div class="header">Student Details</div>
            <div class="table-container">
                <button class="btn btn-add" id="addStudentBtn">+ Add Student</button>
                <input type="text" id="searchStudentBar" class="form-control" placeholder="Search by Student ID or Name">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Serial No.</th>
                            <th>Student Name</th>
                            <th>Phone Number</th>
                            <th>Course</th>
                            <th>Student ID</th>
                            <th>Email</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="studentTableBody"></tbody>
                </table>
            </div>
        
            <!-- Add/Edit Modal -->
            <div class="modal" tabindex="-1" role="dialog" id="studentModal">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="modalTitle">Edit Student Details</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="studentForm">
                                <div class="form-group">
                                    <label for="studentName">Student Name</label>
                                    <input type="text" class="form-control" id="studentName" required>
                                </div>
                                <div class="form-group">
                                    <label for="studentPhoneNumber">Phone Number</label>
                                    <input type="text" class="form-control" id="studentPhoneNumber" required pattern="\d+">
                                </div>
                                <div class="form-group">
                                    <label for="studentCourse">Course</label>
                                    <input type="text" class="form-control" id="studentCourse" required>
                                </div>
                                <div class="form-group">
                                    <label for="studentId">Student ID</label>
                                    <input type="text" class="form-control" id="studentId" required>
                                </div>
                                <div class="form-group">
                                    <label for="studentMailId">Email</label>
                                    <input type="email" class="form-control" id="studentMailId" required>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-save" id="saveStudentBtn">Save</button>
                            <button type="button" class="btn btn-cancel" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        
            <script>
                let studentData = JSON.parse(localStorage.getItem('localStudentStorage')) || [];
                let editStudentMode = false, editStudentIndex = -1;
        
                function renderStudentTable() {
                    const tableBody = document.getElementById('studentTableBody');
                    tableBody.innerHTML = '';
                    studentData.forEach((student, index) => {
                        tableBody.insertAdjacentHTML('beforeend', `
                            <tr>
                                <td>${index + 1}</td>
                                <td>${student.studentName}</td>
                                <td>${student.studentPhoneNumber}</td>
                                <td>${student.studentCourse}</td>
                                <td>${student.studentId}</td>
                                <td>${student.studentMailId}</td>
                                <td>
                                    <button class="btn btn-primary btn-sm" onclick="editStudent(${index})">Edit</button>
                                    <button class="btn btn-info btn-sm" onclick="viewStudent(${index})">View</button>
                                    <button class="btn btn-danger btn-sm" onclick="deleteStudent(${index})">Delete</button>
                                </td>
                            </tr>
                        `);
                    });
                }
        
                document.getElementById('addStudentBtn').onclick = () => {
                    editStudentMode = false;
                    document.getElementById('studentForm').reset();
                    $('#studentModal').modal('show');
                };
        
                document.getElementById('saveStudentBtn').onclick = () => {
                    const newStudent = {
                        studentName: studentName.value,
                        studentPhoneNumber: studentPhoneNumber.value,
                        studentCourse: studentCourse.value,
                        studentId: studentId.value,
                        studentMailId: studentMailId.value,
                    };
                    if (editStudentMode) studentData[editStudentIndex] = newStudent;
                    else studentData.push(newStudent);
                    localStorage.setItem('localStudentStorage', JSON.stringify(studentData));
                    renderStudentTable();
                    $('#studentModal').modal('hide');
                };
        
                function deleteStudent(index) {
                    studentData.splice(index, 1);
                    localStorage.setItem('localStudentStorage', JSON.stringify(studentData));
                    renderStudentTable();
                }
        
                renderStudentTable();
            </script>
                <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
            </body>
            </html>
            
        </div>
       
        
            


        <div id="facultyDetails" class="section">
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Faculty Details</title>
                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
                <link
                href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
                rel="stylesheet"
                />
                <style>
                    * {
                        margin: 0;
                        padding: 0;
                        box-sizing: border-box;
                        font-family: Arial, sans-serif;
                    }
            
                    /* Sidebar Styling */
                    .sidebar {
                        background-color: #ff6600; /* Orange color */
                        width: 200px;
                        height: 100vh; /* Full viewport height */
                        position: fixed; /* Sticks to the side */
                        top: 0;
                        left: 0;
                        color: #fff;
                        padding: 20px 0;
                        overflow-y: auto; /* Scrollable if needed */
                    }
            
                    .sidebar h2 {
                        text-align: center;
                        font-size: 22px;
                        margin-bottom: 20px;
                        text-transform: uppercase;
                        color: #fff;
                        font-weight: bold;
                    }
            
                    .sidebar ul {
                        list-style: none;
                        padding: 0;
                    }
            
                    .sidebar ul li {
                        margin: 15px 0;
                    }
            
                    .sidebar ul li a {
                        display: block;
                        text-decoration: none;
                        color: #fff;
                        padding: 10px 20px;
                        font-size: 16px;
                        border-radius: 5px;
                        transition: background 0.3s;
                    }
            
                    .sidebar ul li a:hover,
                    .sidebar ul li.active a {
                        background-color: #e55c00; /* Darker orange on hover/active */
                        color: #fff;
                    }
            
                    .content {
                        margin-left: 210px;
                        padding: 20px;
                    }
                    .header {
                        background-color: #f96332;
                        color: white;
                        padding: 10px;
                        font-size: 15px;
                        margin-bottom: 14px;
                    }
                    .btn-add {
                        background-color: #f96332;
                        color: white;
                        margin-bottom: 14px;
                    }
                    .btn-save {
                        background-color: green;
                        color: white;
                    }
                    .btn-cancel {
                        background-color: red;
                        color: white;
                    }
                    .btn-edit, .btn-view, .btn-delete {
                        margin: 0 2px;
                    }
            
                    .table th, .table td {
                        vertical-align: middle;
                    }
                </style>
            </head>
            <body>
                
                    <div class="header">Faculty Details</div>
                    <div class="table-container">
                        <button class="btn btn-add" id="addFacultyBtn">+ Add Faculty</button>
                        <input type="text" id="searchFacultyBar" class="form-control" placeholder="Search by Faculty ID or Name">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Serial No.</th>
                                    <th>Faculty Name</th>
                                    <th>Phone Number</th>
                                    <th>Bus Route</th>
                                    <th>Faculty ID</th>
                                    <th>Email</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="facultyTableBody"></tbody>
                        </table>
                    </div>
                
            
                <!-- Add/Edit Modal -->
                <div class="modal" tabindex="-1" role="dialog" id="facultyModal">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalTitle">Edit Faculty Details</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id="facultyForm">
                                    <div class="form-group">
                                        <label for="facultyName">Faculty Name</label>
                                        <input type="text" class="form-control" id="facultyName" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="facultyPhoneNumber">Phone Number</label>
                                        <input type="text" class="form-control" id="facultyPhoneNumber" required pattern="\d+">
                                    </div>
                                    <div class="form-group">
                                        <label for="facultyBusRoute">Bus Route</label>
                                        <input type="text" class="form-control" id="facultyBusRoute" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="facultyId">Faculty ID</label>
                                        <input type="text" class="form-control" id="facultyId" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="facultyMailId">Email</label>
                                        <input type="email" class="form-control" id="facultyMailId" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="facultyPhoto">Upload Photo</label>
                                        <input type="file" class="form-control-file" id="facultyPhoto" accept="image/*">
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-save" id="saveFacultyBtn">Save</button>
                                <button type="button" class="btn btn-cancel" data-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            
                <!-- View Modal -->
                <div class="modal" tabindex="-1" role="dialog" id="viewModal">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Faculty Details</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body" id="viewContent"></div>
                        </div>
                    </div>
                </div>
            
                <script>
                    let facultyData = JSON.parse(localStorage.getItem('localFacultyStorage')) || [];
                    let editFacultyMode = false, editFacultyIndex = -1;
            
                    function renderFacultyTable() {
                        const tableBody = document.getElementById('facultyTableBody');
                        tableBody.innerHTML = '';
                        facultyData.forEach((faculty, index) => {
                            tableBody.insertAdjacentHTML('beforeend', `
                                <tr>
                                    <td>${index + 1}</td>
                                    <td>${faculty.facultyName}</td>
                                    <td>${faculty.facultyPhoneNumber}</td>
                                    <td>${faculty.facultyBusRoute}</td>
                                    <td>${faculty.facultyId}</td>
                                    <td>${faculty.facultyMailId}</td>
                                    <td>
                                        <button class="btn btn-primary btn-sm" onclick="editFaculty(${index})">Edit</button>
                                        <button class="btn btn-info btn-sm" onclick="viewFaculty(${index})">View</button>
                                        <button class="btn btn-danger btn-sm" onclick="deleteFaculty(${index})">Delete</button>
                                    </td>
                                </tr>
                            `);
                        });
                    }
            
                    document.getElementById('addFacultyBtn').onclick = () => {
                        editFacultyMode = false;
                        document.getElementById('facultyForm').reset();
                        $('#facultyModal').modal('show');
                    };
            
                    document.getElementById('saveFacultyBtn').onclick = () => {
                        const form = document.getElementById('facultyForm');
                        const newFaculty = {
                            facultyName: facultyName.value,
                            facultyPhoneNumber: facultyPhoneNumber.value,
                            facultyBusRoute: facultyBusRoute.value,
                            facultyId: facultyId.value,
                            facultyMailId: facultyMailId.value,
                        };
            
                        if (editFacultyMode) facultyData[editFacultyIndex] = newFaculty;
                        else facultyData.push(newFaculty);
            
                        localStorage.setItem('localFacultyStorage', JSON.stringify(facultyData));
                        renderFacultyTable();
                        $('#facultyModal').modal('hide');
                    };
            
                    function viewFaculty(index) {
                        const faculty = facultyData[index];
                        const content = `
                            <p><strong>Name:</strong> ${faculty.facultyName}</p>
                            <p><strong>Phone:</strong> ${faculty.facultyPhoneNumber}</p>
                            <p><strong>Email:</strong> ${faculty.facultyMailId}</p>
                            <p><strong>Bus Route:</strong> ${faculty.facultyBusRoute}</p>
                            <p><strong>Faculty ID:</strong> ${faculty.facultyId}</p>`;
                        document.getElementById('viewContent').innerHTML = content;
                        $('#viewModal').modal('show');
                    }
            
                    function deleteFaculty(index) {
                        facultyData.splice(index, 1);
                        localStorage.setItem('localFacultyStorage', JSON.stringify(facultyData));
                        renderFacultyTable();
                    }
            
                    function editFaculty(index) {
                        const faculty = facultyData[index];
                        editFacultyMode = true;
                        editFacultyIndex = index;
                        Object.keys(faculty).forEach(key => {
                            document.getElementById(key).value = faculty[key];
                        });
                        $('#facultyModal').modal('show');
                    }
            
                    renderFacultyTable(); 
                </script>
                <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
            </body>
            </html>
            
        </div>


        <div id="trackBus" class="section">
            <h2>Track Bus</h2>
            <p>Manage and view Bus Routes here.</p>
        </div>



        <div id="seatPlan" class="section">
                        
        </div>


        <div id="logout" class="section">
            <h2>Logout</h2>
            <p>View and update bus schedules here.</p>
        </div>
    </div>

    <!-- JavaScript Side bar-->
    <script>
    function showSection(sectionId, element) {
        // Hide the welcome section
        document.getElementById("welcome-section").style.display = "none";

        // Hide all sections
        var sections = document.getElementsByClassName("section");
        for (var i = 0; i < sections.length; i++) {
            sections[i].style.display = "none";
        }

        // Remove 'active' class from all sidebar links
        var links = document.querySelectorAll(".sidebar ul li a");
        links.forEach(link => link.classList.remove("active"));

        // Show the selected section
        document.getElementById(sectionId).style.display = "block";

        // Add 'active' class to the clicked link
        element.classList.add("active");
    }

    // Show the welcome section on page load
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("welcome-section").style.display = "flex";
    });

        function loadPage(event, page) {
    event.preventDefault(); // Prevent default link action
    fetch(page)
        .then(response => response.text())
        .then(data => {
            document.getElementById('contentArea').innerHTML = data;
        })
        .catch(error => console.error('Error loading page:', error));
}
    </script>

</body>
</html>